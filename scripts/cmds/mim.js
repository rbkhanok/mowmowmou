const axios = require("axios");

const baseApiUrl = async () => {
	const base = await axios.get(`https://raw.githubusercontent.com/Blankid018/D1PT0/main/baseApiUrl.json`);
	return base.data.api;
};

module.exports.config = {
	name: "mim",
	version: "1.0.0",
	role: 0,
	author: "â™•ğ™¼ğŸ¿ğ™·ğŸºğ™¼ğ™¼ğŸºğ™³â˜ğ™±ğŸºğ™³ğŸ¿ğ™»â™•", //modified by Badol
	description: "sim +goibot",
	guide: { en: "[message]" },
	category: "ChatBots",
	countDown: 1,
};

module.exports.onStart = ({}) => {};

module.exports.onReply = async function ({ api, event }) {
	if (event.type === "message_reply") {
		const reply = event.body.toLowerCase();
		if (isNaN(reply)) {
			try {
				const baseUrl = await baseApiUrl();
				const response = await axios.get(`${baseUrl}/baby?text=${encodeURIComponent(reply)}`);
				const ok = response.data.reply;
				await api.sendMessage(
					ok,
					event.threadID,
					(error, info) => {
						if (!error) {
							global.GoatBot.onReply.set(info.messageID, {
								commandName: this.config.name,
								type: "reply",
								messageID: info.messageID,
								author: event.senderID,
								link: ok,
							});
						}
					},
					event.messageID,
				);
			} catch (error) {
				console.error(`Failed to get a reply: ${error.message}`);
				api.sendMessage(`Error: ${error.message}`, event.threadID, event.messageID);
			}
		}
	}
};

	module.exports.onChat = async function ({ api, event }) {
		try {
			const input = event.body.toLowerCase();

			if (input === "mim" || input === "Mim") {
				const messages = [
					"à¦¬à§‡à¦¶à¦¿ mim mim à¦•à¦°à¦²à§‡ à¦šà§à¦®à§à¦®à¦¾ à¦¦à¦¿à¦¯à¦¼à¦¾ à¦¤à§‹à¦®à¦¾à¦° à¦•à¦¿à¦¡à¦¨à¦¿ à¦¬à§à¦²à¦• à¦•à¦°à§‡ à¦¦à§‡à¦¬à§‹ğŸ˜’ " , "à¦¶à§à¦¨à¦¬à§‹ à¦¨à¦¾ğŸ˜¼à¦¤à§à¦®à¦¿ à¦†à¦®à¦¾à¦•à§‡ à¦ªà§à¦°à§‡à¦® à¦•à¦°à¦¾à¦‡ à¦¦à¦¾à¦“ à¦¨à¦¾à¦‡ğŸ¥ºà¦ªà¦šà¦¾ à¦¤à§à¦®à¦¿ğŸ¥º" , "à¦†à¦®à¦¿ à¦†à¦¬à¦¾à¦² à¦¦à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦•à¦¥à¦¾ à¦¬à¦²à¦¿ à¦¨à¦¾,okğŸ˜’" , "à¦à¦¤à§‹ à¦¡à§‡à¦•à§‹ à¦¨à¦¾,à¦ªà§à¦°à§‡à¦® à¦ à¦ªà¦°à§‡ à¦¯à¦¾à¦¬à§‹ à¦¤à§‹ğŸ™ˆ" , "Bolo Babu, à¦¤à§à¦®à¦¿ à¦•à¦¿ à¦†à¦®à¦¾à¦•à§‡ à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à§‹? ğŸ™ˆğŸ’‹ " , "à¦¬à¦¾à¦° à¦¬à¦¾à¦° à¦¡à¦¾à¦•à¦²à§‡ à¦®à¦¾à¦¥à¦¾ à¦—à¦°à¦® à¦¹à¦¯à¦¼à§‡ à¦¯à¦¾à¦¯à¦¼ à¦•à¦¿à¦¨à§à¦¤à§ğŸ˜‘", "à¦¹à§à¦¯à¦¾ à¦¬à¦²à§‹ğŸ˜’, à¦¤à§‹à¦®à¦¾à¦° à¦œà¦¨à§à¦¯ à¦•à¦¿ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿ğŸ˜ğŸ˜‘?" , "à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦›à¦¿à¦¸ à¦•à§‡à¦¨?à¦—à¦¾à¦²à¦¿ à¦¶à§à¦¨à¦¬à¦¿ à¦¨à¦¾à¦•à¦¿? ğŸ¤¬" , "I love you januğŸ¥°" , "à¦†à¦°à§‡ Bolo à¦†à¦®à¦¾à¦° à¦œà¦¾à¦¨ ,à¦•à§‡à¦®à¦¨ à¦†à¦›à§‹?ğŸ˜š " , "à¦à¦¤ à¦¯à§‡ à¦®à¦¿à¦® à¦•à¦°à§‹ à¦¤à§‹à¦®à¦°à¦¾ à¦•à¦¿ à¦†à¦®à¦¾à¦° à¦­à¦¾à¦¤à¦¾à¦° à¦²à¦¾à¦—à§‡ ğŸ¥´" , "Hop bedağŸ˜¾,Boss à¦¬à¦² bossğŸ˜¼" , "à¦šà§à¦ª à¦¥à¦¾à¦• ,à¦¨à¦¾à¦‡ à¦¤à§‹ à¦¤à§‹à¦° à¦¦à¦¾à¦¤ à¦­à§‡à¦—à§‡ à¦¦à¦¿à¦¬à§‹ à¦•à¦¿à¦¨à§à¦¤à§" , ", à¦®à¦¿à¦® à¦¨à¦¾ à¦­à¦¾à¦¬à¦¿ à¦¬à¦² à¦­à¦¾à¦¬à¦¿ ğŸ˜˜ " , "à¦¬à¦¾à¦° à¦¬à¦¾à¦° Disturb à¦•à¦°à¦›à¦¿à¦¸ à¦•à§‹à¦¨à§‹ğŸ˜¾,à¦†à¦®à¦¾à¦° à¦œà¦¾à¦¨à§à¦° à¦¸à¦¾à¦¥à§‡ à¦¬à§à¦¯à¦¾à¦¸à§à¦¤ à¦†à¦›à¦¿ğŸ˜‹" , "à¦¬à§‹à¦•à¦¾à¦šà§‹à¦¦à¦¾ à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦¿à¦¸ à¦•à§‡à¦¨ğŸ¤¬" , "à¦†à¦®à¦¾à¦•à§‡ à¦¡à¦¾à¦•à¦²à§‡ ,à¦†à¦®à¦¿ à¦•à¦¿à¦¨à§à¦¤à§ à¦•à¦¿à¦¸ à¦•à¦°à§‡ à¦¦à¦¿à¦¬à§‹ğŸ˜˜ " , "à¦†à¦®à¦¾à¦°à§‡ à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦¿à¦¸ à¦¨à¦¾ à¦†à¦®à¦¿ à¦®à¦œà¦¾ à¦•à¦°à¦¾à¦° mood à¦ à¦¨à¦¾à¦‡ à¦à¦–à¦¨ğŸ˜’" , "à¦¹à§à¦¯à¦¾à¦ à¦œà¦¾à¦¨à§ , à¦à¦‡à¦¦à¦¿à¦• à¦ à¦†à¦¸à§‹ à¦•à¦¿à¦¸ à¦¦à§‡à¦‡ğŸ¤­ ğŸ˜˜" , "à¦¦à§‚à¦°à§‡ à¦¯à¦¾, à¦¤à§‹à¦° à¦•à§‹à¦¨à§‹ à¦•à¦¾à¦œ à¦¨à¦¾à¦‡, à¦¶à§à¦§à§ à¦®à¦¿à¦® à¦®à¦¿à¦® à¦•à¦°à¦¿à¦¸Â  ğŸ˜‰ğŸ˜‹ğŸ¤£" , "à¦¤à§‹à¦° à¦•à¦¥à¦¾ à¦¤à§‹à¦° à¦¬à¦¾à¦¡à¦¼à¦¿ à¦•à§‡à¦‰ à¦¶à§à¦¨à§‡ à¦¨à¦¾ ,à¦¤à§‹ à¦†à¦®à¦¿ à¦•à§‹à¦¨à§‹ à¦¶à§à¦¨à¦¬à§‹ ?ğŸ¤”ğŸ˜‚ " , "à¦†à¦®à¦¾à¦•à§‡ à¦¡à§‡à¦•à§‹ à¦¨à¦¾,à¦†à¦®à¦¿ à¦¬à§à¦¯à¦¾à¦¸à§à¦¤ à¦†à¦›à¦¿" , "à¦•à¦¿ à¦¹à¦²à§‹ , à¦®à¦¿à¦¸à§à¦Ÿà§‡à¦• à¦•à¦°à¦šà§à¦›à¦¿à¦¸ à¦¨à¦¾à¦•à¦¿ğŸ¤£" , "à¦¬à¦²à§‹ à¦•à¦¿ à¦¬à¦²à¦¬à¦¾, à¦¸à¦¬à¦¾à¦° à¦¸à¦¾à¦®à¦¨à§‡ à¦¬à¦²à¦¬à¦¾ à¦¨à¦¾à¦•à¦¿?ğŸ¤­ğŸ¤" , "à¦•à¦¾à¦²à¦•à§‡ à¦¦à§‡à¦–à¦¾ à¦•à¦°à¦¿à¦¸ à¦¤à§‹ à¦à¦•à¦Ÿà§ ğŸ˜ˆ" , "à¦¹à¦¾ à¦¬à¦²à§‹, à¦¶à§à¦¨à¦›à¦¿ à¦†à¦®à¦¿ ğŸ˜" , "à¦†à¦° à¦•à¦¤ à¦¬à¦¾à¦° à¦¡à¦¾à¦•à¦¬à¦¿ ,à¦¶à§à¦¨à¦›à¦¿ à¦¤à§‹" , "à¦¹à§à¦® à¦¬à¦²à§‹ à¦•à¦¿ à¦¬à¦²à¦¬à§‡ğŸ˜’" , "à¦¬à¦²à§‹ à¦•à¦¿ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿ à¦¤à§‹à¦®à¦¾à¦° à¦œà¦¨à§à¦¯" , "à¦†à¦®à¦¿ à¦¤à§‹ à¦…à¦¨à§à¦§ à¦•à¦¿à¦›à§ à¦¦à§‡à¦–à¦¿ à¦¨à¦¾ğŸ¸ ğŸ˜" , "à¦†à¦° à¦à¦•à¦¬à¦¾à¦° à¦†à¦®à¦¾à¦° à¦¨à¦¾à¦® à¦§à¦°à§‡ à¦¡à¦¾à¦•à¦²à§‡ à¦¤à§‹à¦°à§‡ à¦•à§‹à¦²à§‡ à¦•à¦°à§‡ à¦¬à§‡à¦¡à¦°à§à¦®à§‡ à¦¨à¦¿à¦¯à¦¼à§‡ à¦†à¦¸à¦¬ ğŸ˜‰" , "à¦¬à¦²à§‹ à¦œà¦¾à¦¨à§ ğŸŒš" , "à¦¤à§‹à¦° à¦•à¦¿ à¦šà§‹à¦–à§‡ à¦ªà¦¡à¦¼à§‡ à¦¨à¦¾ à¦†à¦®à¦¿ à¦¬à§à¦¯à¦¾à¦¸à§à¦¤ à¦†à¦›à¦¿ğŸ˜’","à¦¹à§à¦® à¦œà¦¾à¦¨ à¦¤à§‹à¦®à¦¾à¦° à¦“à¦‡ à¦–à¦¾à¦¨à§‡ à¦‰à¦®à§à¦®à¦¹ğŸ˜‘ğŸ˜˜" , "à¦†à¦¹ à¦¶à§à¦¨à¦¾ à¦†à¦®à¦¾à¦° à¦¤à§‹à¦®à¦¾à¦° à¦…à¦²à¦¿à¦¤à§‡ à¦—à¦²à¦¿à¦¤à§‡ à¦‰à¦®à§à¦®à¦¾à¦¹ğŸ˜‡ğŸ˜˜" , " jang hanga korbağŸ˜’ğŸ˜¬" , "à¦¹à§à¦® à¦œà¦¾à¦¨ à¦¤à§‹à¦®à¦¾à¦° à¦…à¦‡à¦–à¦¾à¦¨à§‡ à¦‰à¦®à§à¦®à¦®à¦¾à¦¹ğŸ˜·ğŸ˜˜" , "à¦†à¦¸à¦¸à¦¾à¦²à¦¾à¦®à§ à¦†à¦²à¦¾à¦‡à¦•à§à¦® à¦¬à¦²à§‡à¦¨ à¦†à¦ªà¦¨à¦¾à¦° à¦œà¦¨à§à¦¯ à¦•à¦¿ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿..!ğŸ¥°" , "à¦†à¦®à¦¾à¦•à§‡ à¦à¦¤à§‹ à¦¨à¦¾ à¦¡à§‡à¦•à§‡ à¦¬à¦¸ à¦¬à¦¾à¦¦à¦² à¦šà§Œà¦§à§à¦°à§€ à¦•à§‡ à¦à¦•à¦Ÿà¦¾ à¦—à¦« à¦¦à§‡ ğŸ™„" , "à¦†à¦®à¦¾à¦•à§‡ à¦à¦¤à§‹ à¦¨à¦¾ à¦¡à§‡à¦•à§‡ à¦¬à¦¸ à¦°à¦¾à¦œà¦¾ à¦¬à¦¾à¦¬à§ à¦•à§‡ à¦à¦•à¦Ÿà¦¾ à¦—à¦« à¦¦à§‡ ğŸ™„"
				];
				const rh = messages[Math.floor(Math.random() * messages.length)];
				await api.sendMessage(rh, event.threadID, event.messageID);
				return;
			}

			if (input.startsWith("mim") || input.startsWith("Mim")) {
				const query = input.replace(/^(suna|sona)\s+/, "");
		if (query) {
				const baseUrl = await baseApiUrl();
				const response = await axios.get(`${baseUrl}/baby?text=${encodeURIComponent(query)}`);
				const reply = response.data.reply;
				await api.sendMessage(
					{ body: reply },
					event.threadID,
					(error, info) => {
						if (!error) {
							global.GoatBot.onReply.set(info.messageID, {
								commandName: this.config.name,
								type: "reply",
								messageID: info.messageID,
								author: event.senderID,
								link: reply,
							});
						}
					},
					event.messageID,
				);
			}
		}
			}
		   catch (error) {
				console.error(`Failed to get an answer: ${error.message}`);
				api.sendMessage(`Error: ${error.message}.\nğğŸ’ğƒğŸ—ğ‹-ğğŸ—ğ“___//ğŸğŸğŸ•`, event.threadID, event.messageID);
			}
	};
